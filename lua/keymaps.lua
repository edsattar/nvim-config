-- https://neovim.io/doc/user/lua-guide.html#lua-guide-mappings

local utils = require("utils")
local map = utils.map

map.v("p",            'p:let @+=@0<CR>:let @"=@0<CR>') -- Don't copy the replaced text after pasting in visual mode
map.n("k", "v:count == 0 ? 'gk' : 'k'", { expr = true })
map.n("j", "v:count == 0 ? 'gj' : 'j'", { expr = true })

-- disable arrow keys
map.niv("<Up>",       '<CMD>echo "Use k to move!!"<CR>')
map.niv("<Down>",     '<CMD>echo "Use j to move!!"<CR>')
map.niv("<Left>",     '<CMD>echo "Use h to move!!"<CR>')
map.niv("<Right>",    '<CMD>echo "Use l to move!!"<CR>')

map.n("Q",            "@q", "Macro q")
map.n("n",            "nzz",                    "Center next match")
map.n("N",            "Nzz",                    "Center previous match")
map.nv("H",           "0",                      "Move to the beginning of the line")
map.nv("L",           "$",                      "Move to the end of the line")
map.n("K",            "<C-u>zz",                "Move up half page")
map.n("J",            "<C-d>zz",                "Move down half page")
map.n("V",            "v$",                     "Select to end of line")
map.n("vv",           "V",                      "Select whole line")
map.n("vaf",          "ggVG",                   "Select whole file")
map.n("yaf",          "ggVGy",                  "Yank whole file")
map.n("gR",           "*Ncgn",                  "Replace matches")
map.n("gk",           "gg",                     "Move to the beginning of the file")
map.n("gj",           "G",                      "Move to the end of the file")
map.n("]b",           ":bn<CR>",                "Buffer Next")
map.n("[b",           ":bp<CR>",                "Buffer Previous")
map.n("]t",           ":tabnext<CR>",           "Tab Next")
map.n("[t",           ":tabprevious<CR>",       "Tab Previous")
map.i("jj",           "<Esc>",                  "jj to escape")
map.n("<Esc>",        "<CMD>nohlsearch<CR>")
map.v("<A-h>",        "<gv",                    "Indent Left")
map.v("<A-l>",        ">gv",                    "Indent Right")
map.n("<A-h>",        "<<",                     "Indent Left")
map.n("<A-l>",        ">>",                     "Indent Right")
map.n("<A-a>",        "J",                      "Join lines")
map.n("<A-j>",        ":m+1<CR>",               "Move line down")
map.v("<A-j>",        ":m'>+1<CR>gv=gv",        "Move line down")
map.n("<A-k>",        ":m-2<CR>",               "Move line up")
map.v("<A-k>",        ":m'<-2<CR>gv=gv",        "Move line up")
map.n("<A-z>",        utils.toggle_wrap,        "Toggle Wrap")

map.ni("<C-j>",       "<C-n>",                  "Next line")
map.ni("<C-k>",       "<C-p>",                  "Previous line")
map.n("<C-q>",        ":q<CR>",                 "Quit")
map.n("<C-Q>",        ":qall<CR>",              "Quit All")
map.n("<C-s>",        ":w<CR>",                 "Save file")
map.i("<C-s>",        "<Esc>:w<CR>a",           "Save file")
map.n("<C-w>b",       ":bd<CR>",                "Buffer Delete")
map.n("<C-Up>",       ":hori res +1<CR>",       "Window Height Increase")
map.n("<C-Down>",     ":hori res -2<CR>",       "Window Height Decrease")
map.n("<C-Right>",    ":vert res +2<CR>",       "Window Width Increase")
map.n("<C-Left>",     ":vert res -2<CR>",       "Window Width Decrease")
map.v("<Leader>/",    [["hy:%s/<C-r>h/<C-r>h]], "Search and replace selected text")
map.n("<Leader>/",    "/<C-r><C-w>",        "Search and replace word under cursor")
map.nv("<Leader>y",   '"+y',                    "Yank to system clipboard")
